<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trading Tools</title>

<link rel="stylesheet" href="style.css">

<style>
/* ===== AUTH MODAL ===== */
.auth-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.6);
  backdrop-filter: blur(12px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.auth-box {
  width: 320px;
  padding: 24px;
  border-radius: 24px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.auth-box input {
  padding: 12px;
  border-radius: 12px;
  border: none;
  outline: none;
}

.auth-box button {
  padding: 12px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
}

/* ===== USER PANEL ===== */
#userPanel {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  display: none;
  gap: 10px;
  align-items: center;
  padding: 10px 16px;
  border-radius: 14px;
}

/* ===== SHAKE ===== */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-6px); }
  100% { transform: translateX(0); }
}

.shake {
  animation: shake 0.35s;
}
</style>
</head>

<body>

<!-- AUTH MODAL -->
<div id="authModal" class="auth-modal">
  <div class="auth-box liquid-glass">
    <h2>–í—Ö–æ–¥</h2>
    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="login()">–í–æ–π—Ç–∏</button>
    <button onclick="register()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
  </div>
</div>

<!-- USER PANEL -->
<div id="userPanel" class="liquid-glass">
  <span id="userEmail"></span>
  <button onclick="logout()">–í—ã–π—Ç–∏</button>
</div>

<!-- HEADER -->
<!-- HEADER -->
<header class="liquid-glass">
  <div class="nav-item active">Home</div>
  <div class="nav-item" onclick="location.href='timezone.html'">Time Zones</div>
  <div class="nav-item" onclick="location.href='calculator.html'">Calculator</div>
</header>

<!-- MAIN -->
<section class="hero">
  <div class="hero-box liquid-glass">

    <h1>TRADING TOOLS</h1>
    <p>Minimal & precise tools for traders</p>

    <!-- ROW 1 -->
    <div class="home-grid">

      <div class="tool-card liquid-glass"
           onclick="location.href='timezone.html'">
        <div class="tool-icon">üïí</div>
        <h2>Time Zone</h2>
        <p>Trading session converter</p>
      </div>

      <div class="tool-card liquid-glass"
           onclick="location.href='calculator.html'">
        <div class="tool-icon">üìê</div>
        <h2>Size Calculator</h2>
        <p>Risk & lot sizing</p>
      </div>

      <div class="tool-card liquid-glass"
           onclick="window.open('https://www.forexfactory.com/calendar','_blank')">
        <div class="tool-icon">üì∞</div>
        <h2>ForexFactory</h2>
        <p>Economic calendar</p>
      </div>

    </div>

    <!-- ROW 2 -->
    <div class="coming-grid">

      <div class="coming-card liquid-glass">
        <h2>Coming Soon</h2>
        <p>News dashboard</p>
      </div>

      <div class="coming-card liquid-glass">
        <h2>Coming Soon</h2>
        <p>Session overlap</p>
      </div>

      <div class="coming-card liquid-glass">
        <h2>Coming Soon</h2>
        <p>Risk management</p>
      </div>

    </div>

  </div>
</section>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAf3N5XpXMtgB4PhPERQxfNf_UrtNzQ5aQ",
  authDomain: "asch-trades.firebaseapp.com",
  projectId: "asch-trades",
  appId: "1:1021341834852:web:58ff1ba5e12fc432c44971"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// DOM
const authModal = document.getElementById("authModal");
const userPanel = document.getElementById("userPanel");
const userEmail = document.getElementById("userEmail");
const email = document.getElementById("email");
const password = document.getElementById("password");

// LOGIN
window.login = async () => {
  try {
    await signInWithEmailAndPassword(auth, email.value, password.value);
  } catch (e) {
    shake();
    
  }
};

// REGISTER
window.register = async () => {
  try {
    await createUserWithEmailAndPassword(auth, email.value, password.value);
  } catch (e) {
    shake();
    
  }
};

// LOGOUT
window.logout = async () => {
  await signOut(auth);
};

// STATE
onAuthStateChanged(auth, user => {
  if (user) {
    authModal.style.display = "none";
    userPanel.style.display = "flex";
    userEmail.textContent = user.email;
  } else {
    authModal.style.display = "flex";
    userPanel.style.display = "none";
  }
});

// SHAKE
function shake() {
  const box = document.querySelector(".auth-box");
  box.classList.remove("shake");
  void box.offsetWidth;
  box.classList.add("shake");
}
</script>

</body>
</html>
